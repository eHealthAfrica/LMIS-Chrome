<div tv-breadcrumbs></div>

<div class="row">
  <ul class="breadcrumb">
    <li><a ui-sref="home.index.controlPanel"><i class="fa fa-home"> Home</i></a></li>
    <li class="active">Batch List</li>
  </ul>
</div>

<div class="row">
  <div class="btn-group col-sm-2">
    <a href="#/batches/batch_form" class="btn btn-default"><i class="fa fa-plus-circle"></i> Add Batch</a>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div ng-include="'views/partials/search.html'"></div>
  </div>
</div>

<div class="row">
  <div class="col-sm-10">
    <div ng-include="'views/partials/expiration_visual_indicator_info.html'"></div>
  </div>
</div>

<div class="row">
  <div class="col-sm-4">
    <div ng-include="'views/partials/group_about_to_expire_in_months.html'"></div>
  </div>
</div>

<div class="row">
  <div class="col-sm-18">
    <div class="panel panel-default">

      <div class="panel-heading">
        <h3 class="panel-title">
          <i class="fa fa-list"></i> Batches
        </h3>
      </div>

      <div class="scrollable-container">
        <table ng-table="batches" class="table table-condensed table-hover table-bordered oversize-table">
          <tr ng-repeat="batch in $data | filter:search"
              class="{{ highlight(batch.expiration_date, orderByMonths) }} center-text">
            <td data-title="'#'">{{ $index + 1 }}</td>
            <td data-title="'Batch No'" sortable="'batch_no'" ng-bind="batch.batch_no"></td>
            <td data-title="'Product Name'"  sortable="'(batch.product).name'" ng-bind="(batch.product).name"></td>
            <td data-title="'Expiration Date'" sortable="'expiration_date'"
                ng-bind="(batch.expiration_date | date:'dd-MM-yyyy')"></td>
            <td data-title="'Manufacturer'" ng-bind="(batch.manufacturer).name"></td>
            <td data-title="'Presentation'" ng-bind="(batch.presentation).name"></td>
            <td data-title="'Formulation'" ng-bind="(batch.formulation).name"></td>
            <td data-title="'Mode Of Administration'" ng-bind="(batch.mode_of_use).name"></td>
            <td data-title="'Packed Volume'" sortable="'packed_volume'"
                ng-bind="(batch.packed_volume+' '+(batch.volume_uom).symbol)">
            </td>
            <td data-title="'Diluent Packed per Volume'" sortable="'diluent_per_volume'"
                ng-bind="(batch.diluent_per_volume+' '+(batch.volume_uom).symbol)">
            </td>
            <td data-title="'Price per Unit'" sortable="'price_per_unit'"
                ng-bind="((batch.price_currency).symbol+' '+batch.price_per_unit)">
            </td>
            <td data-title="'Description'" ng-bind="batch.description"></td>
            <td data-title="'Active'" sortable="'active'">
              <span ng-show="batch.active"><i class="fa fa-check-circle green-icon"></i></span>
              <span ng-hide="batch.active"><i class="fa fa-times-circle red-icon"></i></span>
            </td>
          </tr>
        </table>
      </div>

    </div>
  </div>
</div>
